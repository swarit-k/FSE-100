prompt = "Type to stop vehicle";
toggle = true;
while toggle
  touch = brick.TouchPressed(3);
  brick.MoveMotor('A', 43);
  brick.MoveMotor('B', 50);
  if touch
    disp("Touch sensor pressed");
    brick.StopAllMotors('Brake');
    pause(1);

    distanceLeft = brick.UltrasonicDist(3);
    if distanceLeft < 50
      startAngle = brick.GyroAngle(1);
      brick.MoveMotor('A', 30);
      brick.MoveMotor('B', -30);
      while abs(brick.GyroAngle(1) - startAngle) < 90
          % wait to turn
      end
      brick.StopAllMotors('Brake');
    else
      startAngle = brick.GyroAngle(1);
      brick.MoveMotor('A', -30);
      brick.MoveMotor('B', 30);
      while abs(brick.GyroAngle(1) - startAngle) < 90
        % wait to turn
      end
      brick.StopAllMotors('Brake');
    end
  end
  pause(1);
  txt = input(prompt, "s");
  if txt == "end"
    toggle = false;
  end  
end

